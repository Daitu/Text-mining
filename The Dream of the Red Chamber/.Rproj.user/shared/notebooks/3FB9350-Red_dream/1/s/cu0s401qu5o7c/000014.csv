"0","## -----------------------------------------------------------------"
"0","## 按照权重2，即段落权重分析人物的社交网络####"
"0","## 分析链接次数较大的人物"
"0","# 1:准备社交网络数据"
"0","chap_net <- Red_net[Red_net$duanweight > 50,c(1,2,4)]"
"0","names(chap_net) <- c(""from"",""to"",""weight"")"
"0","chap_vert <- Name_freq[Name_freq$word %in% as.character(union(unique(chap_net$from),"
"0","                                                              unique(chap_net$to))),]"
"0","chap_net <- graph_from_data_frame(chap_net,directed = FALSE,"
"0","                                  vertices = chap_vert)"
"0","chap_net"
"1","IGRAPH UNW- 24 70 -- "
"1","
"
"1","+ attr: name (v/c), freq (v/n), weight (e/n)"
"1","
"
"1","+ edges (vertex names):
"
"1"," [1] 宝玉  --贾母   宝玉  --凤姐   宝玉  --袭人   宝玉  --王夫人 宝玉  --宝钗  "
"1","
"
"1"," [6] 宝玉  --贾政   宝玉  --贾琏   宝玉  --平儿   宝玉  --薛姨妈 宝玉  --探春  "
"1","
"
"1","[11] 宝玉  --紫鹃   宝玉  --鸳鸯   宝玉  --贾珍   宝玉  --李纨   宝玉  --尤氏  "
"1","
"
"1","[16] 宝玉  --晴雯   宝玉  --邢夫人 宝玉  --林黛玉 宝玉  --麝月   宝玉  --惜春  "
"1","
"
"1","[21] 宝玉  --迎春   贾母  --凤姐   贾母  --袭人   贾母  --王夫人 贾母  --宝钗  "
"1","
"
"1","[26] 贾母  --贾政   贾母  --贾琏   贾母  --薛姨妈 贾母  --探春   贾母  --鸳鸯  "
"1","
"
"1","[31] 贾母  --贾珍   贾母  --李纨   贾母  --尤氏   贾母  --邢夫人 贾母  --贾赦  "
"1","
"
"1","[36] 凤姐  --王夫人 凤姐  --宝钗   凤姐  --贾政   凤姐  --贾琏   凤姐  --平儿  "
"1","
"
"1","+ ... omitted several edges
"
"0","# chap_net$name <- ""《红楼梦》章节人物关系"""
"0","# V(chap_net)$media"
"0","## 节点数目"
"0","vcount(chap_net)"
"1","[1]"
"1"," 24"
"1","
"
"0","## 边的数目"
"0","ecount(chap_net)"
"1","[1]"
"1"," 70"
"1","
"
"0","## 简化网络图"
"0","chap_net <- simplify(chap_net,remove.multiple = TRUE,remove.loops = TRUE,"
"0","                     edge.attr.comb = ""mean"")"
"0","## 查看节点的度"
"0","degrees <- data.frame(name = names(degree(chap_net)),"
"0","                      counts = (degree(chap_net)))"
"0","ggplot(degrees,aes(x = reorder(name,counts),y = counts)) +"
"0","  theme_bw(base_size = 11,base_family = ""STKaiti"")+"
"0","  geom_bar(stat = ""identity"",position = ""dodge"",fill = ""lightblue"") +"
"0","  theme(axis.text.x = element_text(size = 10,hjust = 1,angle = 90,vjust = 0.5),"
"0","        axis.title.x = element_blank()) +"
"0","  labs(x = ""人名"",y = ""节点的度"",title = ""《红楼梦》"")"
