"0","## -----------------------------------------------------------------"
"0","## 按照权重2，即段落权重分析人物的社交网络####"
"0","# 1:准备社交网络数据"
"0","chap_net <- Red_net[Red_net$duanweight > 10,c(1,2,4)]"
"0","names(chap_net) <- c(""from"",""to"",""weight"")"
"0","chap_vert <- Name_freq[Name_freq$word %in% as.character(union(unique(chap_net$from),"
"0","                                                              unique(chap_net$to))),]"
"0","chap_net <- graph_from_data_frame(chap_net,directed = FALSE,"
"0","                                  vertices = chap_vert)"
"0","chap_net"
"1","IGRAPH UNW- 77 398 -- "
"1","
"
"1","+ attr: name (v/c), freq (v/n), weight (e/n)"
"1","
"
"1","+ edges (vertex names):
"
"1"," [1] 宝玉--贾母   宝玉--凤姐   宝玉--袭人   宝玉--王夫人 宝玉--宝钗   宝玉--贾政  "
"1","
"
"1"," [7] 宝玉--贾琏   宝玉--平儿   宝玉--薛姨妈 宝玉--探春   宝玉--紫鹃   宝玉--鸳鸯  "
"1","
"
"1","[13] 宝玉--贾珍   宝玉--李纨   宝玉--尤氏   宝玉--晴雯   宝玉--刘姥姥 宝玉--邢夫人"
"1","
"
"1","[19] 宝玉--薛蟠   宝玉--林黛玉 宝玉--香菱   宝玉--麝月   宝玉--贾蓉   宝玉--贾赦  "
"1","
"
"1","[25] 宝玉--惜春   宝玉--贾芸   宝玉--芳官   宝玉--贾环   宝玉--妙玉   宝玉--雪雁  "
"1","
"
"1","[31] 宝玉--迎春   宝玉--赵姨娘 宝玉--莺儿   宝玉--秦钟   宝玉--巧姐   宝玉--秋纹  "
"1","
"
"1","[37] 宝玉--贾兰   宝玉--茗烟   宝玉--史湘云 宝玉--大了   宝玉--五儿   宝玉--赖大  "
"1","
"
"1","[43] 宝玉--凤丫头 宝玉--焙茗   宝玉--琥珀   宝玉--彩云   宝玉--玉钏儿 宝玉--李贵  "
"1","
"
"1","+ ... omitted several edges
"
"0","# chap_net$name <- ""《红楼梦》章节人物关系"""
"0","# V(chap_net)$media"
"0","# ## 节点数目"
"0","vcount(chap_net)"
"1","[1]"
"1"," 77"
"1","
"
"0","## 边的数目"
"0","ecount(chap_net)"
"1","[1]"
"1"," 398"
"1","
"
"0","## 简化网络图"
"0","chap_net <- simplify(chap_net,remove.multiple = TRUE,remove.loops = TRUE,"
"0","                     edge.attr.comb = ""mean"")"
"0","## 查看节点的度"
"0","degrees <- data.frame(name = names(degree(chap_net)),"
"0","                      counts = (degree(chap_net)))"
"0","ggplot(degrees,aes(x = reorder(name,counts),y = counts)) +"
"0","  theme_bw(base_size = 11,base_family = ""STKaiti"")+"
"0","  geom_bar(stat = ""identity"",position = ""dodge"",fill = ""lightblue"") +"
"0","  theme(axis.text.x = element_text(size = 8,hjust = 1,angle = 90,vjust = 0.5),"
"0","        axis.title.x = element_blank()) +"
"0","  labs(x = ""人名"",y = ""节点的度"",title = ""《红楼梦》"")"
